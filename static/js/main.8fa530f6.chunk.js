(this.webpackJsonpNativeSwap=this.webpackJsonpNativeSwap||[]).push([[0],{118:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r,a=n(5),i=n(6);!function(e){e[e.In=1]="In",e[e.Out=2]="Out"}(r||(r={}));var s=Object(a.a)((function e(){Object(i.a)(this,e)})),c=Object(a.a)((function e(){Object(i.a)(this,e)}))},124:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return z})),n.d(t,"c",(function(){return K}));var r=n(6),a=n(5),i=n(8),s=n(1),c=n.n(s),u=n(11),o=n(28),d=n(14),p=n(15),l=n(55),m=n(51),f=n(29),h=n(26),b=n(17),y=n(284),v=n(138),x=n(241),O=n(118);var j=function(){function e(t,n){Object(r.a)(this,e),this.erc20=void 0,this.uniToken=void 0,this.erc20=n;var a=this.getAddress(),i=this.getDecimals();this.uniToken=new b.f(t,a,i)}return Object(a.a)(e,[{key:"getUniToken",value:function(){return this.uniToken}},{key:"getEvmToken",value:function(){return this.erc20}},{key:"getDecimals",value:function(){return this.erc20.getDecimals()}},{key:"getContract",value:function(){return this.erc20.getContract()}},{key:"getAddress",value:function(){return this.erc20.getAddress()}},{key:"getBalanceOf",value:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.erc20.getBalanceOf(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"computeUnitAmount",value:function(e){return this.erc20.computeUnitAmount(e)}},{key:"formatAmount",value:function(e){return this.erc20.formatAmount(e)}},{key:"computeCurrencyAmount",value:function(e){var t=this.computeUnitAmount(e);return b.a.fromRawAmount(this.getUniToken(),t.toString())}},{key:"addAmounts",value:function(e,t){return this.erc20.addAmounts(e,t)}},{key:"subtractAmounts",value:function(e,t){return this.erc20.subtractAmounts(e,t)}}]),e}();function g(e,t,n){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(c.a.mark((function e(t,n,r){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.create(t,r);case 2:return a=e.sent,e.abrupt("return",new j(n,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return u.a.BigNumber.from(e)}function A(e,t,n){return{protocol:e.getProtocol(),amountIn:e.tokenIn.computeUnitAmount(t),minAmountOut:e.tokenOut.computeUnitAmount(n),poolFee:e.getPoolFee(),deadline:e.getTradeDeadline(),path:[e.tokenIn.getAddress(),e.tokenOut.getAddress()]}}function T(e,t,n){return{protocol:e.getProtocol(),amountOut:e.tokenOut.computeUnitAmount(t),maxAmountIn:e.tokenIn.computeUnitAmount(n),poolFee:e.getPoolFee(),deadline:e.getTradeDeadline(),path:[e.tokenIn.getAddress(),e.tokenOut.getAddress()]}}var I=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this)).provider=void 0,a.network=void 0,a.chainId=void 0,a.tokenIn=void 0,a.tokenOut=void 0,a.deadline="",a.provider=e,a}return Object(a.a)(n,[{key:"getProvider",value:function(){return this.provider}},{key:"initializeTokens",value:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.getNetwork();case 2:if(this.network=e.sent,r=this.network,n!==O.c.Out){e.next=13;break}return e.next=7,Promise.all([g(this.provider,r.chainId,t.address),g(this.provider,r.chainId,t.ustPairedAddress)]);case 7:a=e.sent,i=Object(h.a)(a,2),this.tokenIn=i[0],this.tokenOut=i[1],e.next=19;break;case 13:return e.next=15,Promise.all([g(this.provider,r.chainId,t.ustPairedAddress),g(this.provider,r.chainId,t.address)]);case 15:s=e.sent,u=Object(h.a)(s,2),this.tokenIn=u[0],this.tokenOut=u[1];case 19:return e.abrupt("return");case 20:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPoolFee",value:function(){return""}},{key:"setDeadline",value:function(e){this.deadline=e}},{key:"getTradeDeadline",value:function(){return e=this.deadline,u.a.BigNumber.from(Math.floor(Date.now()/1e3)).add(e);var e}},{key:"computeUnitAmountOut",value:function(e){return this.tokenOut.computeUnitAmount(e).toString()}},{key:"formatAmountIn",value:function(e){return this.tokenIn.formatAmount(w(e))}},{key:"formatAmountOut",value:function(e){return this.tokenOut.formatAmount(w(e))}},{key:"getTokenInDecimals",value:function(){return this.tokenIn.getDecimals()}},{key:"getTokenOutDecimals",value:function(){return this.tokenOut.getDecimals()}},{key:"getTokenOutAddress",value:function(){return this.tokenOut.getAddress()}}]),n}(O.b),S="UniswapV2",E=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).factoryAddress=void 0,e.pairContract=void 0,e.pair=void 0,e}return Object(a.a)(n,[{key:"setFactoryAddress",value:function(e){this.factoryAddress=e}},{key:"computePoolAddress",value:function(){if(void 0===this.factoryAddress)throw Error("factoryAddress is undefined. use setFactoryAddress");return Object(v.d)({factoryAddress:this.factoryAddress,tokenA:this.tokenIn.getUniToken(),tokenB:this.tokenOut.getUniToken()})}},{key:"computeAndVerifyPoolAddress",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.computePoolAddress(),n=new u.a.Contract(t,y.a,this.provider),e.next=4,n.factory();case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createPool",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r,a,i,s,o,d,p,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.computePoolAddress(),n=new u.a.Contract(t,y.a,this.provider),e.next=4,Promise.all([n.token0(),n.getReserves()]);case 4:if(r=e.sent,a=Object(h.a)(r,2),i=a[0],s=a[1],o=s._reserve0.toString(),d=s._reserve1.toString(),p=this.tokenIn,l=this.tokenOut,i.toLowerCase()!==p.getAddress().toLowerCase()){e.next=14;break}return e.abrupt("return",new v.a(b.a.fromRawAmount(p.getUniToken(),o),b.a.fromRawAmount(l.getUniToken(),d)));case 14:return e.abrupt("return",new v.a(b.a.fromRawAmount(l.getUniToken(),o),b.a.fromRawAmount(p.getUniToken(),d)));case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchExactInQuote",value:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a,i,s,o,d,p,l,m,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createPool();case 2:return r=e.sent,a=this.tokenIn,i=this.tokenOut,s=new v.b([r],a.getUniToken(),i.getUniToken()),o=a.computeCurrencyAmount(t),d=new v.c(s,o,b.g.EXACT_INPUT),p=i.getDecimals(),l=u.a.FixedNumber.from(d.outputAmount.toSignificant(p)),m=u.a.FixedNumber.from("1").subUnsafe(u.a.FixedNumber.from(n)),f=l.mulUnsafe(m).round(p),e.abrupt("return",f.toString());case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchExactOutQuote",value:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a,i,s,o,d,p,l,m,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createPool();case 2:return r=e.sent,a=this.tokenIn,i=this.tokenOut,s=new v.b([r],a.getUniToken(),i.getUniToken()),o=i.computeCurrencyAmount(t),d=new v.c(s,o,b.g.EXACT_OUTPUT),p=a.getDecimals(),l=u.a.FixedNumber.from(d.inputAmount.toSignificant(p)),m=u.a.FixedNumber.from("1").subUnsafe(u.a.FixedNumber.from(n)),f=l.divUnsafe(m).round(p),e.abrupt("return",f.toString());case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getProtocol",value:function(){return S}}]),n}(I),C=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a,i;return Object(r.a)(this,n),i=t.call(this,e),Object(l.a)((a=Object(o.a)(i),Object(m.a)(n.prototype)),"setFactoryAddress",a).call(a,"0x5757371414417b8C6CAad45bAeF941aBc7d3Ab32"),i}return Object(a.a)(n,[{key:"initialize",value:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)(Object(m.a)(n.prototype),"initializeTokens",this).call(this,f.m,t);case 2:return e.abrupt("return");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(E),P=n(4),F=n.n(P),N=n(285),M=n(91),U=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).poolContract=void 0,a.pool=void 0,a.poolFee=void 0,a.poolFee=M.a.MEDIUM,a}return Object(a.a)(n,[{key:"initialize",value:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initializeTokens(f.i,t);case 2:return e.abrupt("return");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolFee",value:function(){return this.poolFee.toString()}},{key:"computePoolAddress",value:function(){return Object(M.g)({factoryAddress:"0x1F98431c8aD98523631AE4a59f267346ea31F984",fee:this.poolFee,tokenA:this.tokenIn.getUniToken(),tokenB:this.tokenOut.getUniToken()})}},{key:"computeAndVerifyPoolAddress",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.computePoolAddress(),n=new u.a.Contract(t,N.a,this.provider),e.next=4,n.factory();case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createPool",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r,a,i,s,o,d,p,l,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.computePoolAddress(),n=new u.a.Contract(t,N.a,this.provider),this.poolContract=n,e.next=5,Promise.all([n.liquidity(),n.slot0()]);case 5:return r=e.sent,a=Object(h.a)(r,2),i=a[0],s=a[1],o=s[0],d=s[1],p=F.a.BigInt(i),l=F.a.multiply(p,F.a.BigInt(-1)),m=[{index:Object(M.h)(M.e.MIN_TICK,M.d[this.poolFee]),liquidityNet:p,liquidityGross:p},{index:Object(M.h)(M.e.MAX_TICK,M.d[this.poolFee]),liquidityNet:l,liquidityGross:p}],e.abrupt("return",new M.b(this.tokenIn.getUniToken(),this.tokenOut.getUniToken(),this.poolFee,o.toString(),i,d,m));case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"computeTradeExactIn",value:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createPool();case 2:return n=e.sent,r=this.tokenIn,a=this.tokenOut,i=r.computeUnitAmount(t),s=new M.c([n],r.getUniToken(),a.getUniToken()),e.abrupt("return",M.f.fromRoute(s,b.a.fromRawAmount(r.getUniToken(),i.toString()),b.g.EXACT_INPUT));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"computeTradeExactOut",value:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createPool();case 2:return n=e.sent,r=this.tokenIn,a=this.tokenOut,i=a.computeUnitAmount(t),s=new M.c([n],r.getUniToken(),a.getUniToken()),e.abrupt("return",M.f.fromRoute(s,b.a.fromRawAmount(a.getUniToken(),i.toString()),b.g.EXACT_OUTPUT));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchExactInQuote",value:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a,i,s,o,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.computeTradeExactIn(t);case 2:return r=e.sent,a=this.tokenOut,i=a.getDecimals(),s=u.a.FixedNumber.from(r.outputAmount.toSignificant(i)),o=u.a.FixedNumber.from("1").subUnsafe(u.a.FixedNumber.from(n)),d=s.mulUnsafe(o).round(i),e.abrupt("return",d.toString());case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchExactOutQuote",value:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a,i,s,o,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.computeTradeExactOut(t);case 2:return r=e.sent,a=this.tokenIn,i=a.getDecimals(),s=u.a.FixedNumber.from(r.inputAmount.toSignificant(i)),o=u.a.FixedNumber.from("1").subUnsafe(u.a.FixedNumber.from(n)),d=s.divUnsafe(o).round(i),e.abrupt("return",d.toString());case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getProtocol",value:function(){return"UniswapV3"}}]),n}(I),D=n(40),R="1000000",B=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"computePoolAddress",value:function(){return f.u.address}},{key:"computeAndVerifyPoolAddress",value:function(){var e=this;return new Promise((function(t){return t(e.computePoolAddress())}))}},{key:"formatAmountIn",value:function(e){return new D.Dec(e).div(R).toString()}},{key:"formatAmountOut",value:function(e){return this.formatAmountIn(e)}},{key:"computeUnitAmountIn",value:function(e){var t=new D.Dec(e).mul(R);return new D.Int(t.toString()).toString()}},{key:"computeUnitAmountOut",value:function(e){return this.computeUnitAmountIn(e)}},{key:"getProtocol",value:function(){return"TerraUstTransfer"}},{key:"fetchExactInQuote",value:function(){var e=Object(i.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchExactOutQuote",value:function(){var e=Object(i.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTokenInDecimals",value:function(){return 6}},{key:"getTokenOutDecimals",value:function(){return 6}},{key:"getTokenOutAddress",value:function(){return this.computePoolAddress()}}]),n}(O.b),_=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a,i;return Object(r.a)(this,n),i=t.call(this,e),Object(l.a)((a=Object(o.a)(i),Object(m.a)(n.prototype)),"setFactoryAddress",a).call(a,""),i}return Object(a.a)(n,[{key:"initialize",value:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)(Object(m.a)(n.prototype),"initializeTokens",this).call(this,f.b,t);case 2:return e.abrupt("return");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"computePoolAddress",value:function(){return"0xD8087870E8869e45154189d434DF61C19e77ae30"}}]),n}(E),q=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a,i;return Object(r.a)(this,n),i=t.call(this,e),Object(l.a)((a=Object(o.a)(i),Object(m.a)(n.prototype)),"setFactoryAddress",a).call(a,""),i}return Object(a.a)(n,[{key:"initialize",value:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)(Object(m.a)(n.prototype),"initializeTokens",this).call(this,f.c,t);case 2:return e.abrupt("return");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"computePoolAddress",value:function(){return"0x8682096d4A2a2f3cd63147D05e4BAB47634e2AD1"}}]),n}(E),V=n(512);var z,W=n(31),L=f.u.address;function H(e){switch(e){case f.i.address:var t="https://goerli.infura.io/v3/ff29215fde9c4193bc25b344f10cefc0";return new u.a.providers.StaticJsonRpcProvider(t);case f.m.address:var n="https://polygon-mumbai.infura.io/v3/ff29215fde9c4193bc25b344f10cefc0";return new u.a.providers.StaticJsonRpcProvider(n);case f.b.address:var r="https://api.avax-test.network/ext/bc/C/rpc";return new u.a.providers.StaticJsonRpcProvider(r);case f.c.address:var a="https://data-seed-prebsc-1-s1.binance.org:8545";return new u.a.providers.StaticJsonRpcProvider(a);default:throw Error("unrecognized evm token address")}}function Q(e){switch(e){case f.i.address:return W.c;case f.m.address:return W.d;case f.b.address:return W.a;case f.c.address:return W.b;case f.u.address:return W.f;default:throw Error("unrecognized evm token address")}}function G(e,t){return J.apply(this,arguments)}function J(){return(J=Object(i.a)(c.a.mark((function e(t,n){var r,a,i,s,u,o,d,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===f.i.address?3:e.t0===f.m.address?8:e.t0===f.b.address?13:e.t0===f.c.address?18:e.t0===f.u.address?23:24;break;case 3:return r=H(t),a=new U(r),e.next=7,a.initialize(n);case 7:return e.abrupt("return",a);case 8:return i=H(t),s=new C(i),e.next=12,s.initialize(n);case 12:return e.abrupt("return",s);case 13:return u=H(t),o=new _(u),e.next=17,o.initialize(n);case 17:return e.abrupt("return",o);case 18:return d=H(t),p=new q(d),e.next=22,p.initialize(n);case 22:return e.abrupt("return",p);case 23:return e.abrupt("return",new B);case 24:throw Error("unrecognized chain id");case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){var t=u.a.FixedNumber.from("2");return u.a.FixedNumber.from(e).divUnsafe(t).round(4).toString()}!function(e){e[e.ExactIn=1]="ExactIn",e[e.ExactOut=2]="ExactOut"}(z||(z={}));var K=function(){function e(){Object(r.a)(this,e),this.tokenInAddress=void 0,this.tokenOutAddress=void 0,this.srcRouter=void 0,this.dstRouter=void 0}return Object(a.a)(e,[{key:"initialize",value:function(){var e=Object(i.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===this.tokenInAddress){e.next=5;break}return this.tokenInAddress=t,e.next=4,G(t,O.c.Out);case 4:this.srcRouter=e.sent;case 5:if(n===this.tokenOutAddress){e.next=10;break}return this.tokenOutAddress=n,e.next=9,G(n,O.c.In);case 9:this.dstRouter=e.sent;case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"computeAndVerifySrcPoolAddress",value:function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.srcRouter.computeAndVerifyPoolAddress());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"computeAndVerifyDstPoolAddress",value:function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dstRouter.computeAndVerifyPoolAddress());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"computeSwapSlippage",value:function(e){return this.isSrcUst()||this.isDstUst()?e:X(e)}},{key:"getRelayerFee",value:function(e){return this.isSrcUst()?{amount:this.srcRouter.computeUnitAmountOut(e),tokenAddress:L}:{amount:this.srcRouter.computeUnitAmountOut(e),tokenAddress:this.srcRouter.getTokenOutAddress()}}},{key:"makeSrcExactInParameters",value:function(e,t){if(!this.isSrcUst())return A(this.srcRouter,e,t)}},{key:"makeDstExactInParameters",value:function(e,t){if(!this.isDstUst())return A(this.dstRouter,e,t)}},{key:"computeExactInParameters",value:function(){var e=Object(i.a)(c.a.mark((function e(t,n,r){var a,i,s,u,o,d,p,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.computeSwapSlippage(n),i=this.srcRouter,e.next=4,i.fetchExactInQuote(t,a);case 4:if(s=e.sent,u=this.dstRouter,o=s,!(Number(o)<Number(r))){e.next=9;break}throw Error("srcAmountOut <= relayerFeeUst. ".concat(o," vs ").concat(r));case 9:return c=o,m=r,f=u.getTokenInDecimals(),d=V.a.from(c).subUnsafe(V.a.from(m)).round(f).toString(),e.next=12,u.fetchExactInQuote(d,a);case 12:return p=e.sent,l={amountIn:t,ustAmountIn:d,minAmountOut:p,src:this.makeSrcExactInParameters(t,s),dst:this.makeDstExactInParameters(d,p),relayerFee:this.getRelayerFee(r)},e.abrupt("return",l);case 15:case"end":return e.stop()}var c,m,f}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"makeSrcExactOutParameters",value:function(e,t){if(!this.isSrcUst())return T(this.srcRouter,e,t)}},{key:"makeDstExactOutParameters",value:function(e,t){if(!this.isDstUst())return T(this.dstRouter,e,t)}},{key:"computeExactOutParameters",value:function(){var e=Object(i.a)(c.a.mark((function e(t,n,r){var a,i,s,u,o,d,p,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=X(n),i=this.dstRouter,e.next=4,i.fetchExactOutQuote(t,a);case 4:if(s=e.sent,u=this.srcRouter,o=s,!(Number(o)<Number(r))){e.next=9;break}throw Error("dstAmountIn <= relayerFeeUst. ".concat(o," vs ").concat(r));case 9:return c=o,m=r,f=u.getTokenOutDecimals(),d=V.a.from(c).addUnsafe(V.a.from(m)).round(f).toString(),e.next=12,u.fetchExactOutQuote(d,a);case 12:return p=e.sent,l={amountOut:t,ustAmountIn:s,maxAmountIn:p,src:this.makeSrcExactOutParameters(d,p),dst:this.makeDstExactOutParameters(t,s),relayerFee:this.getRelayerFee(r)},e.abrupt("return",l);case 15:case"end":return e.stop()}var c,m,f}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setDeadlines",value:function(e){this.isSrcUst()||this.srcRouter.setDeadline(e),this.isDstUst()||this.dstRouter.setDeadline(e)}},{key:"isSrcUst",value:function(){return this.tokenInAddress===L}},{key:"isDstUst",value:function(){return this.tokenOutAddress===L}},{key:"getSrcEvmProvider",value:function(){if(!this.isSrcUst())return this.srcRouter.getProvider()}},{key:"getDstEvmProvider",value:function(){if(!this.isDstUst())return this.dstRouter.getProvider()}},{key:"getSrcChainId",value:function(){return Q(this.tokenInAddress)}},{key:"getDstChainId",value:function(){return Q(this.tokenOutAddress)}}]),e}()},158:function(e,t,n){"use strict";n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return O}));var r=n(8),a=n(1),i=n.n(a),s=n(29),c={gasLimit:"694200",maxFeePerGas:"100420690000",maxPriorityFeePerGas:"1690000000"},u={gasLimit:"694200",gasPrice:"20420690000"},o=[s.k,s.l,s.j];function d(e){return p.apply(this,arguments)}function p(){return(p=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:if(n=e.sent,!(o.indexOf(n)>=0)){e.next=5;break}return e.abrupt("return",c);case 5:return e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.provider.getNetwork();case 2:return n=e.sent,e.abrupt("return",n.chainId);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return r=e.sent,e.next=5,t.recvAndSwapExactNativeIn(n,r);case 5:return a=e.sent,e.abrupt("return",a.wait());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t){return y.apply(this,arguments)}function y(){return(y=Object(r.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return r=e.sent,e.next=5,t.recvAndSwapExactIn(n,r);case 5:return a=e.sent,e.abrupt("return",a.wait());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return x.apply(this,arguments)}function x(){return(x=Object(r.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return r=e.sent,e.next=5,t.recvAndSwapExactNativeOut(n,r);case 5:return a=e.sent,e.abrupt("return",a.wait());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return j.apply(this,arguments)}function j(){return(j=Object(r.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return r=e.sent,e.next=5,t.recvAndSwapExactOut(n,r);case 5:return a=e.sent,e.abrupt("return",a.wait());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},206:function(e,t){},241:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f}));var r=n(8),a=n(6),i=n(5),s=n(14),c=n(15),u=n(1),o=n.n(u),d=n(11),p=n(118),l=n(454),m=(n(29),function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).token=void 0,e.decimals=void 0,e}return Object(i.a)(n,[{key:"initialize",value:function(){var e=Object(r.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t,n);case 2:return this.token=e.sent,e.next=5,this.token.decimals();case 5:this.decimals=e.sent;case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAddress",value:function(){return this.token.address}},{key:"getDecimals",value:function(){return this.decimals}},{key:"getContract",value:function(){return this.token}},{key:"getBalanceOf",value:function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getDecimals(),e.next=3,this.token.balanceOf(t.address);case 3:return r=e.sent,e.abrupt("return",d.a.utils.formatUnits(r.toString(),n));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"computeUnitAmount",value:function(e){return d.a.utils.parseUnits(e,this.getDecimals())}},{key:"formatAmount",value:function(e){return d.a.utils.formatUnits(e,this.getDecimals())}},{key:"addAmounts",value:function(e,t){return d.a.FixedNumber.from(e).addUnsafe(d.a.FixedNumber.from(t)).round(this.getDecimals()).toString()}},{key:"subtractAmounts",value:function(e,t){return d.a.FixedNumber.from(e).subUnsafe(d.a.FixedNumber.from(t)).round(this.getDecimals()).toString()}}],[{key:"create",value:function(){var e=Object(r.a)(o.a.mark((function e(t,r){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new n,e.next=3,a.initialize(t,r);case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(p.a));function f(e,t){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new d.a.Contract(n,l.a,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},29:function(e,t,n){"use strict";n.d(t,"l",(function(){return a})),n.d(t,"k",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"m",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return d})),n.d(t,"u",(function(){return p})),n.d(t,"t",(function(){return l})),n.d(t,"y",(function(){return m})),n.d(t,"x",(function(){return f})),n.d(t,"w",(function(){return h})),n.d(t,"n",(function(){return b})),n.d(t,"v",(function(){return y})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return x})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return j})),n.d(t,"h",(function(){return g})),n.d(t,"q",(function(){return k})),n.d(t,"r",(function(){return w})),n.d(t,"p",(function(){return A})),n.d(t,"o",(function(){return T})),n.d(t,"s",(function(){return I})),n.d(t,"a",(function(){return S}));var r=n(31),a=80001,i=5,s=43113,c={name:"MATIC",address:"0x9c3c9283d3e44854697cd22d3faa240cfb032889",chainId:r.d,evmChainId:a,maxAmount:.1,ustPairedAddress:"0xe3a1c77e952b57b5883f6c906fc706fcc7d4392c"},u={name:"ETH",address:"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",chainId:r.c,evmChainId:i,maxAmount:.01,ustPairedAddress:"0x36Ed51Afc79619b299b238898E72ce482600568a"},o={name:"AVAX",address:"0x1d308089a2d1ced3f1ce36b1fcaf815b07217be3",chainId:r.a,evmChainId:s,maxAmount:.01,ustPairedAddress:"0xe09ed38e5cd1014444846f62376ac88c5232cde9"},d={name:"BNB",address:"0xae13d989dac2f0debff460ac112a837c89baa7cd",chainId:r.b,evmChainId:97,maxAmount:.01,ustPairedAddress:"0x7b8eae1e85c8b189ee653d3f78733f4f788bb2c1"},p={name:"UST",address:"uusd",chainId:r.f,evmChainId:void 0,maxAmount:10,ustPairedAddress:void 0},l=[c,u,o,d],m=function(e){return l.filter((function(t){return t!==e}))},f=function(e){switch(e){case r.c:return i;case r.d:return a;case r.a:return s;case r.b:return 97;default:return}},h=function(e){switch(e){case r.c:return"Ethereum";case r.d:return"Polygon";case r.a:return"Avalanche";case r.b:return"BSC";default:return""}},b="0.25",y=["https://wormhole-v2-testnet-api.certus.one"],v="0x706abc4E45D419950511e474C7B9Ed348A4a716c",x="0x0CBE91CF822c73C2315FB05100C2F714765d5c20",O="0x7bbcE28e64B3F8b84d876Ab298393c38ad7aac4C",j="0x68605AD7b15c732a30b1BbC62BE8F2A509D74b4D",g="terra1pd65m0q9tl3v8znnz5f5ltsfegyzah7g42cx5v",k="0xF890982f9310df57d00f659cf4fd87e65adEd8d7",w="0x377D55a7928c046E18eEbb61977e714d2a76472a",A="0x9dcF9D205C9De35334D646BeE44b2D2859712A09",T="0x61E44E506Ca5659E6c0bba9b678586fA2d729756",I="terra1pseddrv0yfsn76u4zxrjmtf45kdlmalswdv39a",S="100000"},452:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return z}));var r=n(30),a=n(6),i=n(5),s=n(8),c=n(1),u=n.n(c),o=n(11),d=n(31),p=n(124),l=n(29),m=n(158),f=n(462),h=n(463),b=n(464),y=n(465),v=n(466),x=n(467),O=n(241);var j=function(){var t="0x"+e.alloc(20).toString("hex");return[t,t]}(),g={crossChainSwap:{address:b.a},wormhole:{chainId:d.c,coreBridgeAddress:l.f,tokenBridgeAddress:l.q}},k={crossChainSwap:{address:y.a},wormhole:{chainId:d.d,coreBridgeAddress:l.g,tokenBridgeAddress:l.r}},w={crossChainSwap:{address:v.a},wormhole:{chainId:d.a,coreBridgeAddress:l.d,tokenBridgeAddress:l.o}},A={crossChainSwap:{address:x.a},wormhole:{chainId:d.b,coreBridgeAddress:l.e,tokenBridgeAddress:l.p}},T={crossChainSwap:{address:"terra163shc8unyqrndgcldaj2q9kgnqs82v0kgkhynf"},wormhole:{chainId:d.f,coreBridgeAddress:l.h,tokenBridgeAddress:l.s}};function I(e){switch(e){case d.c:return g;case d.d:return k;case d.a:return w;case d.b:return A;case d.f:return T;default:throw Error("unrecognized chain id")}}function S(e,t,n,r,a){return E.apply(this,arguments)}function E(){return(E=Object(s.a)(u.a.mark((function e(t,n,r,a,i){var s,c,d,p,l,m,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.b)(t,r);case 2:return s=e.sent,e.next=5,s.populateTransaction.approve(a,i);case 5:return c=e.sent,e.next=8,n.getAddress();case 8:return d=e.sent,p="0x100000",e.next=12,n.getGasPrice();case 12:return l=e.sent,m=o.a.utils.hexlify(parseInt(l.toString())),console.log("gettingTranscationCount",t),e.next=17,t.getTransactionCount(d,"latest");case 17:return c.nonce=e.sent,c.gasLimit=o.a.BigNumber.from(o.a.utils.hexlify(p)),c.gasPrice=o.a.BigNumber.from(m),console.log("done gettingTranscationCount"),e.next=23,n.sendTransaction(c);case 23:return f=e.sent,e.abrupt("return",f.wait());case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t,n){return t===p.a?function(e,t){return new o.a.Contract(e,f.a,t)}(n,e):function(e,t){return new o.a.Contract(e,h.a,t)}(n,e)}function P(e,t){var n=Object(d.p)(e,t);if(null===n)throw new Error("nativeToHexString returned null");return Object(d.m)(n)}function F(e,t,n,r){var a=r.src,i=r.dst;return void 0===i?[e,a.minAmountOut,0,P(t,n),a.deadline,a.poolFee||0]:[e,a.minAmountOut,i.minAmountOut,P(t,n),a.deadline,i.poolFee||a.poolFee||0]}function N(e){return void 0===e.src?j.concat(e.dst.path):void 0===e.dst?e.src.path.concat(j):e.src.path.concat(e.dst.path)}function M(e,t,n,r,a,i,s,c){return U.apply(this,arguments)}function U(){return(U=Object(s.a)(u.a.mark((function e(t,n,a,i,s,c,o,d){var p,l,f,h,b,y,v,x,O,j,g,k,w,A;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=s.crossChainSwap,l=i.src.protocol,f=C(t,l,p.address),h=f.connect(n),b=i.src.amountIn,y=c.wormhole.chainId,v=F(b,d,y,i),x=N(i),O=P(c.crossChainSwap.address,y),j=69,g=Object(m.e)(f),!o){e.next=20;break}return k=Object(r.a)({value:b},g),console.info("swapExactNativeInAndTransfer"),e.next=16,h.swapExactNativeInAndTransfer(v,x,i.relayerFee.amount,y,O,j,k);case 16:return w=e.sent,e.abrupt("return",w.wait());case 20:return console.info("approving contract to spend token in"),e.next=23,S(t,n,a,f.address,b);case 23:return console.info("swapExactInAndTransfer"),e.next=26,h.swapExactInAndTransfer(v,x,i.relayerFee.amount,y,O,j,g);case 26:return A=e.sent,e.abrupt("return",A.wait());case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,n,r,a,i,s,c){return R.apply(this,arguments)}function R(){return(R=Object(s.a)(u.a.mark((function e(t,n,a,i,s,c,o,d){var p,l,f,h,b,y,v,x,O,j,g,k,w,A,T,I,E,F;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=s.crossChainSwap,b=null===(p=i.src)||void 0===p?void 0:p.protocol,y=C(t,b,h.address),v=y.connect(n),x=null===(l=i.src)||void 0===l?void 0:l.amountOut,O=null===(f=i.src)||void 0===f?void 0:f.maxAmountIn,j=c.wormhole.chainId,g=[x,O,i.dst.amountOut,P(d,j),i.src.deadline,i.dst.poolFee||i.src.poolFee||0],k=N(i),w=P(c.crossChainSwap.address,j),A=69,T=Object(m.e)(y),!o){e.next=21;break}return I=Object(r.a)({value:O},T),console.info("swapExactNativeOutAndTransfer"),e.next=17,v.swapExactNativeOutAndTransfer(g,k,i.relayerFee.amount,j,w,A,I);case 17:return E=e.sent,e.abrupt("return",E.wait());case 21:return console.info("approving contract to spend token in"),e.next=24,S(t,n,a,y.address,O);case 24:return console.info("swapExactOutAndTransfer"),e.next=27,v.swapExactOutAndTransfer(g,k,i.relayerFee.amount,j,w,A,T);case 27:return F=e.sent,e.abrupt("return",F.wait());case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t,n,r,a,i){return _.apply(this,arguments)}function _(){return(_=Object(s.a)(u.a.mark((function e(t,n,r,a,i,s){var c,o,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r.crossChainSwap,o=C(t,a,c.address),d=o.connect(n),!s){e.next=8;break}return console.info("evmSwapExactInFromVaaNative"),e.abrupt("return",Object(m.a)(d,i));case 8:return console.info("evmSwapExactInFromVaaToken"),e.abrupt("return",Object(m.b)(d,i));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t,n,r,a,i){return V.apply(this,arguments)}function V(){return(V=Object(s.a)(u.a.mark((function e(t,n,r,a,i,s){var c,o,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r.crossChainSwap,o=C(t,a,c.address),d=o.connect(n),!s){e.next=8;break}return console.info("evmSwapExactOutFromVaaNative"),e.abrupt("return",Object(m.c)(d,i));case 8:return console.info("evmSwapExactOutFromVaaToken"),e.abrupt("return",Object(m.d)(d,i));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=function(){function e(){Object(a.a)(this,e),this.quoter=void 0,this.cachedExactInParams=void 0,this.cachedExactOutParams=void 0,this.quoteType=void 0,this.isNative=void 0,this.slippage=void 0,this.relayerFeeAmount=void 0,this.srcExecutionParams=void 0,this.dstExecutionParams=void 0,this.transportFactory=void 0,this.vaaSearchParams=void 0,this.vaaBytes=void 0,this.srcEvmReceipt=void 0,this.dstEvmReceipt=void 0,this.srcTerraReceipt=void 0,this.dstTerraReceipt=void 0,this.quoter=new p.c}return Object(i.a)(e,[{key:"initialize",value:function(){var e=Object(s.a)(u.a.mark((function e(t,n,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isNative=r,e.next=3,this.quoter.initialize(t,n);case 3:this.srcExecutionParams=I(this.quoter.getSrcChainId()),this.dstExecutionParams=I(this.quoter.getDstChainId());case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setSlippage",value:function(e){this.slippage=e}},{key:"setRelayerFee",value:function(e){this.relayerFeeAmount=e}},{key:"areSwapParametersUndefined",value:function(){return void 0===this.slippage||void 0===this.relayerFeeAmount}},{key:"setDeadlines",value:function(e){this.quoter.setDeadlines(e)}},{key:"computeAndVerifySrcPoolAddress",value:function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.quoter.computeAndVerifySrcPoolAddress());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"computeAndVerifyDstPoolAddress",value:function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.quoter.computeAndVerifyDstPoolAddress());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"computeQuoteExactIn",value:function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.areSwapParametersUndefined()){e.next=2;break}throw Error("undefined swap parameters");case 2:return e.next=4,this.quoter.computeExactInParameters(t,this.slippage,this.relayerFeeAmount);case 4:return this.cachedExactInParams=e.sent,this.quoteType=p.b.ExactIn,e.abrupt("return",this.cachedExactInParams);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"computeQuoteExactOut",value:function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.areSwapParametersUndefined()){e.next=2;break}throw Error("undefined swap parameters");case 2:return e.next=4,this.quoter.computeExactOutParameters(t,this.slippage,this.relayerFeeAmount);case 4:return this.cachedExactOutParams=e.sent,this.quoteType=p.b.ExactOut,e.abrupt("return",this.cachedExactOutParams);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSrcEvmProvider",value:function(){return this.quoter.getSrcEvmProvider()}},{key:"getDstEvmProvider",value:function(){return this.quoter.getDstEvmProvider()}},{key:"getTokenInAddress",value:function(){return this.quoter.tokenInAddress}},{key:"getTokenOutAddress",value:function(){return this.quoter.tokenOutAddress}},{key:"evmApproveAndSwapExactIn",value:function(){var e=Object(s.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M(this.getSrcEvmProvider(),t,this.getTokenInAddress(),this.cachedExactInParams,this.srcExecutionParams,this.dstExecutionParams,this.isNative,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"evmApproveAndSwapExactOut",value:function(){var e=Object(s.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D(this.getSrcEvmProvider(),t,this.getTokenInAddress(),this.cachedExactOutParams,this.srcExecutionParams,this.dstExecutionParams,this.isNative,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"srcIsUst",value:function(){return this.quoter.tokenInAddress===l.u.address&&void 0===this.cachedExactInParams.src}},{key:"evmApproveAndSwap",value:function(){var e=Object(s.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=this.quoteType)!==p.b.ExactIn){e.next=7;break}return e.next=4,this.evmApproveAndSwapExactIn(t,n);case 4:case 10:this.srcEvmReceipt=e.sent,e.next=14;break;case 7:if(r!==p.b.ExactOut){e.next=13;break}return e.next=10,this.evmApproveAndSwapExactOut(t,n);case 13:throw Error("no quote found");case 14:return this.fetchAndSetEvmEmitterAndSequence(),e.abrupt("return",this.srcEvmReceipt);case 16:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchAndSetEmitterAndSequence",value:function(){}},{key:"fetchAndSetTerraEmitterAndSequence",value:function(){}},{key:"fetchAndSetEvmEmitterAndSequence",value:function(){var e=this.srcEvmReceipt;if(void 0===e)throw Error("no swap receipt found");var t=this.srcExecutionParams.wormhole;this.vaaSearchParams={sequence:Object(d.q)(e,t.coreBridgeAddress),emitterAddress:Object(d.i)(t.tokenBridgeAddress)}}},{key:"fetchSignedVaaFromSwap",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t,n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(t=this.vaaSearchParams)){e.next=3;break}throw Error("no vaa search params found");case 3:return n=t.sequence,r=t.emitterAddress,console.info("sequence: ".concat(n,", emitterAddress: ").concat(r)),e.next=8,Object(d.l)(l.v,this.srcExecutionParams.wormhole.chainId,t.emitterAddress,t.sequence,{transport:this.transportFactory});case 8:a=e.sent,this.vaaBytes=a.vaaBytes;case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchVaaAndSwap",value:function(){var e=Object(s.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchSignedVaaFromSwap();case 2:if((n=this.quoteType)!==p.b.ExactIn){e.next=9;break}return e.next=6,this.evmSwapExactInFromVaa(t);case 6:case 12:this.dstEvmReceipt=e.sent,e.next=16;break;case 9:if(n!==p.b.ExactOut){e.next=15;break}return e.next=12,this.evmSwapExactOutFromVaa(t);case 15:throw Error("no quote found");case 16:return e.abrupt("return",this.dstEvmReceipt);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"evmSwapExactInFromVaa",value:function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B(this.getDstEvmProvider(),t,this.dstExecutionParams,this.cachedExactInParams.dst.protocol,this.vaaBytes,this.isNative));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"evmSwapExactOutFromVaa",value:function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q(this.getDstEvmProvider(),t,this.dstExecutionParams,this.cachedExactOutParams.dst.protocol,this.vaaBytes,this.isNative));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTransport",value:function(e){this.transportFactory=e}}]),e}()}).call(this,n(20).Buffer)},454:function(e){e.exports=JSON.parse('{"a":[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]}')},462:function(e){e.exports=JSON.parse('{"a":[{"inputs":[{"internalType":"address","name":"_swapRouterAddress","type":"address"},{"internalType":"address","name":"_feeTokenAddress","type":"address"},{"internalType":"address","name":"_tokenBridgeAddress","type":"address"},{"internalType":"address","name":"_wrappedNativeAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_recipient","type":"address"},{"indexed":false,"internalType":"address","name":"_tokenOut","type":"address"},{"indexed":false,"internalType":"address","name":"_from","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amountOut","type":"uint256"},{"indexed":false,"internalType":"uint8","name":"_success","type":"uint8"}],"name":"SwapResult","type":"event"},{"inputs":[],"name":"expectedVaaLength","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeTokenAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"swapRouter","outputs":[{"internalType":"contract IUniswapV2Router02","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"terraChainId","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tokenBridgeAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"typeExactIn","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"typeExactOut","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"typeNativeSwap","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"typeTokenSwap","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"wrappedNative","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"},{"inputs":[{"internalType":"bytes","name":"encodedVaa","type":"bytes"}],"name":"recvAndSwapExactNativeIn","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"bytes","name":"encodedVaa","type":"bytes"}],"name":"recvAndSwapExactIn","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMinimum","type":"uint256"},{"internalType":"uint256","name":"targetAmountOutMinimum","type":"uint256"},{"internalType":"bytes32","name":"targetChainRecipient","type":"bytes32"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint24","name":"poolFee","type":"uint24"}],"internalType":"struct SwapHelper.ExactInParameters","name":"swapParams","type":"tuple"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"uint256","name":"relayerFee","type":"uint256"},{"internalType":"uint16","name":"targetChainId","type":"uint16"},{"internalType":"bytes32","name":"targetContractAddress","type":"bytes32"},{"internalType":"uint32","name":"nonce","type":"uint32"}],"name":"swapExactInAndTransfer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMinimum","type":"uint256"},{"internalType":"uint256","name":"targetAmountOutMinimum","type":"uint256"},{"internalType":"bytes32","name":"targetChainRecipient","type":"bytes32"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint24","name":"poolFee","type":"uint24"}],"internalType":"struct SwapHelper.ExactInParameters","name":"swapParams","type":"tuple"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"uint256","name":"relayerFee","type":"uint256"},{"internalType":"uint16","name":"targetChainId","type":"uint16"},{"internalType":"bytes32","name":"targetContractAddress","type":"bytes32"},{"internalType":"uint32","name":"nonce","type":"uint32"}],"name":"swapExactNativeInAndTransfer","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"bytes","name":"encodedVaa","type":"bytes"}],"name":"recvAndSwapExactNativeOut","outputs":[{"internalType":"uint256","name":"amountInUsed","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes","name":"encodedVaa","type":"bytes"}],"name":"recvAndSwapExactOut","outputs":[{"internalType":"uint256","name":"amountInUsed","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"amountInMaximum","type":"uint256"},{"internalType":"uint256","name":"targetAmountOut","type":"uint256"},{"internalType":"bytes32","name":"targetChainRecipient","type":"bytes32"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint24","name":"poolFee","type":"uint24"}],"internalType":"struct SwapHelper.ExactOutParameters","name":"swapParams","type":"tuple"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"uint256","name":"relayerFee","type":"uint256"},{"internalType":"uint16","name":"targetChainId","type":"uint16"},{"internalType":"bytes32","name":"targetContractAddress","type":"bytes32"},{"internalType":"uint32","name":"nonce","type":"uint32"}],"name":"swapExactOutAndTransfer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"amountInMaximum","type":"uint256"},{"internalType":"uint256","name":"targetAmountOut","type":"uint256"},{"internalType":"bytes32","name":"targetChainRecipient","type":"bytes32"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint24","name":"poolFee","type":"uint24"}],"internalType":"struct SwapHelper.ExactOutParameters","name":"swapParams","type":"tuple"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"uint256","name":"relayerFee","type":"uint256"},{"internalType":"uint16","name":"targetChainId","type":"uint16"},{"internalType":"bytes32","name":"targetContractAddress","type":"bytes32"},{"internalType":"uint32","name":"nonce","type":"uint32"}],"name":"swapExactNativeOutAndTransfer","outputs":[],"stateMutability":"payable","type":"function"}]}')},463:function(e){e.exports=JSON.parse('{"a":[{"inputs":[{"internalType":"address","name":"_swapRouterAddress","type":"address"},{"internalType":"address","name":"_feeTokenAddress","type":"address"},{"internalType":"address","name":"_tokenBridgeAddress","type":"address"},{"internalType":"address","name":"_wrappedNativeAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_recipient","type":"address"},{"indexed":false,"internalType":"address","name":"_tokenOut","type":"address"},{"indexed":false,"internalType":"address","name":"_from","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amountOut","type":"uint256"},{"indexed":false,"internalType":"uint8","name":"_success","type":"uint8"}],"name":"SwapResult","type":"event"},{"inputs":[],"name":"expectedVaaLength","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeTokenAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"swapRouter","outputs":[{"internalType":"contract IUniswapRouter","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"terraChainId","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tokenBridgeAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"typeExactIn","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"typeExactOut","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"typeNativeSwap","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"typeTokenSwap","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"wrappedNative","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"},{"inputs":[{"internalType":"bytes","name":"encodedVaa","type":"bytes"}],"name":"recvAndSwapExactNativeIn","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes","name":"encodedVaa","type":"bytes"}],"name":"recvAndSwapExactIn","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMinimum","type":"uint256"},{"internalType":"uint256","name":"targetAmountOutMinimum","type":"uint256"},{"internalType":"bytes32","name":"targetChainRecipient","type":"bytes32"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint24","name":"poolFee","type":"uint24"}],"internalType":"struct SwapHelper.ExactInParameters","name":"swapParams","type":"tuple"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"uint256","name":"relayerFee","type":"uint256"},{"internalType":"uint16","name":"targetChainId","type":"uint16"},{"internalType":"bytes32","name":"targetContractAddress","type":"bytes32"},{"internalType":"uint32","name":"nonce","type":"uint32"}],"name":"swapExactInAndTransfer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMinimum","type":"uint256"},{"internalType":"uint256","name":"targetAmountOutMinimum","type":"uint256"},{"internalType":"bytes32","name":"targetChainRecipient","type":"bytes32"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint24","name":"poolFee","type":"uint24"}],"internalType":"struct SwapHelper.ExactInParameters","name":"swapParams","type":"tuple"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"uint256","name":"relayerFee","type":"uint256"},{"internalType":"uint16","name":"targetChainId","type":"uint16"},{"internalType":"bytes32","name":"targetContractAddress","type":"bytes32"},{"internalType":"uint32","name":"nonce","type":"uint32"}],"name":"swapExactNativeInAndTransfer","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"bytes","name":"encodedVaa","type":"bytes"}],"name":"recvAndSwapExactNativeOut","outputs":[{"internalType":"uint256","name":"amountInUsed","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes","name":"encodedVaa","type":"bytes"}],"name":"recvAndSwapExactOut","outputs":[{"internalType":"uint256","name":"amountInUsed","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"amountInMaximum","type":"uint256"},{"internalType":"uint256","name":"targetAmountOut","type":"uint256"},{"internalType":"bytes32","name":"targetChainRecipient","type":"bytes32"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint24","name":"poolFee","type":"uint24"}],"internalType":"struct SwapHelper.ExactOutParameters","name":"swapParams","type":"tuple"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"uint256","name":"relayerFee","type":"uint256"},{"internalType":"uint16","name":"targetChainId","type":"uint16"},{"internalType":"bytes32","name":"targetContractAddress","type":"bytes32"},{"internalType":"uint32","name":"nonce","type":"uint32"}],"name":"swapExactOutAndTransfer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"amountInMaximum","type":"uint256"},{"internalType":"uint256","name":"targetAmountOut","type":"uint256"},{"internalType":"bytes32","name":"targetChainRecipient","type":"bytes32"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint24","name":"poolFee","type":"uint24"}],"internalType":"struct SwapHelper.ExactOutParameters","name":"swapParams","type":"tuple"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"uint256","name":"relayerFee","type":"uint256"},{"internalType":"uint16","name":"targetChainId","type":"uint16"},{"internalType":"bytes32","name":"targetContractAddress","type":"bytes32"},{"internalType":"uint32","name":"nonce","type":"uint32"}],"name":"swapExactNativeOutAndTransfer","outputs":[],"stateMutability":"payable","type":"function"}]}')},464:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="0x9e7Cae3a46ED297b0a05FCEeb41160fC5218E14f"},465:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="0x72F2F646dC979a9fA8aA685B8a47b7afe2fE0516"},466:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="0x52D8A50AF35b0760335F29a4D6aaF0604B7D7484"},467:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="0x0DC183c2eFAA5e1749B85f13621F5cC6aCcDa786"},502:function(e,t){},510:function(e,t){},513:function(e,t){},516:function(e,t){},533:function(e,t){},534:function(e,t){},657:function(e,t){},659:function(e,t){},670:function(e,t){},672:function(e,t){},682:function(e,t){},770:function(e,t,n){},779:function(e,t){},790:function(e,t,n){"use strict";n.r(t);var r=n(856),a=n(855),i=n(243),s=n(48),c=n.n(s),u=n(26),o=n(8),d=n(1),p=n.n(d),l=n(837),m=n(159),f=n(851),h=n(844),b=n(836),y=n(857),v=n(854),x=n(31),O=n(0),j=n.n(O),g=n(838),k=n(839),w=n(12),A=Object(l.a)((function(e){return{root:{position:"relative"},button:{marginTop:e.spacing(2),textTransform:"none",width:"100%"},loader:{position:"absolute",bottom:0,left:"50%",marginLeft:-12,marginBottom:6},error:{marginTop:e.spacing(1),textAlign:"center"}}}));function T(e){var t=e.disabled,n=e.onClick,r=e.showLoader,a=e.error,i=e.children,s=e.className,c=A();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:c.root,children:[Object(w.jsx)(g.a,{color:"primary",variant:"contained",className:s||c.button,disabled:t,onClick:n,children:i}),r?Object(w.jsx)(k.a,{size:24,color:"inherit",className:s||c.loader}):null]}),a?Object(w.jsx)(m.a,{color:"error",className:c.error,children:a}):null]})}var I=n(450),S=n.n(I),E=n(11),C=n(52),P=j.a.createContext({connect:function(){},disconnect:function(){},provider:void 0,chainId:void 0,signer:void 0,signerAddress:void 0,providerError:null}),F=function(e){var t=e.children,n=Object(O.useState)(null),r=Object(u.a)(n,2),a=r[0],i=r[1],s=Object(O.useState)(void 0),c=Object(u.a)(s,2),o=c[0],d=c[1],p=Object(O.useState)(void 0),l=Object(u.a)(p,2),m=l[0],f=l[1],h=Object(O.useState)(void 0),b=Object(u.a)(h,2),y=b[0],v=b[1],x=Object(O.useState)(void 0),j=Object(u.a)(x,2),g=j[0],k=j[1],A=Object(O.useCallback)((function(){i(null),S()().then((function(e){if(e){var t=new E.a.providers.Web3Provider(e,"any");t.send("eth_requestAccounts",[]).then((function(){i(null),d(t),t.getNetwork().then((function(e){f(e.chainId)})).catch((function(){i("An error occurred while getting the network")}));var n=t.getSigner();v(n),n.getAddress().then((function(e){k(e)})).catch((function(){i("An error occurred while getting the signer address")})),e&&e.on&&(e.on("chainChanged",(function(e){try{f(C.a.from(e).toNumber())}catch(t){}})),e.on("accountsChanged",(function(e){try{var n=t.getSigner();v(n),n.getAddress().then((function(e){k(e)})).catch((function(){i("An error occurred while getting the signer address")}))}catch(r){}})))})).catch((function(){i("An error occurred while requesting eth accounts")}))}else i("Please install MetaMask")})).catch((function(){i("Please install MetaMask")}))}),[]),T=Object(O.useCallback)((function(){i(null),d(void 0),f(void 0),v(void 0),k(void 0)}),[]),I=Object(O.useMemo)((function(){return{connect:A,disconnect:T,provider:o,chainId:m,signer:y,signerAddress:g,providerError:a}}),[A,T,o,m,y,g,a]);return Object(w.jsx)(P.Provider,{value:I,children:t})},N=function(){return Object(O.useContext)(P)},M=n(862),U=Object(l.a)((function(e){return{button:{display:"block",margin:"".concat(e.spacing(1),"px auto"),width:"100%",maxWidth:400}}})),D=function(e){var t=e.connect,n=e.disconnect,r=e.connected,a=e.pk,i=U(),s=a.startsWith("0x");return r?Object(w.jsx)(M.a,{title:a,children:Object(w.jsxs)(g.a,{color:"secondary",variant:"contained",size:"small",onClick:n,className:i.button,children:["Disconnect ",a.substring(0,s?6:3),"...",a.substr(a.length-(s?4:3))]})}):Object(w.jsx)(g.a,{color:"primary",variant:"contained",size:"small",onClick:t,className:i.button,children:"Connect Wallet"})},R=function(){var e=N(),t=e.connect,n=e.disconnect,r=e.signerAddress,a=e.providerError;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(D,{connect:t,disconnect:n,connected:!!r,pk:r||""}),a?Object(w.jsx)(m.a,{variant:"body2",color:"error",children:a}):null]})},B=n(863),_=n(842),q=n(843),V=n(29),z=n.p+"static/media/eth.364436c5.svg",W=n.p+"static/media/polygon.97ff139c.svg",L=n.p+"static/media/terra.4c802748.svg",H=n.p+"static/media/bsc.2e866e3f.svg",Q=n.p+"static/media/avax.234db155.svg",G=Object(l.a)((function(e){return{select:{"& .MuiSelect-root":{display:"flex",alignItems:"center"}},listItemIcon:{minWidth:40},icon:{height:24,maxWidth:24}}})),J=function(e){switch(e){case V.i.name:return z;case V.m.name:return W;case V.u.name:return L;case V.b.name:return Q;case V.c.name:return H;default:return""}};function X(e){var t=e.tokens,n=e.value,r=e.onChange,a=e.disabled,i=G();return Object(w.jsx)(y.a,{value:n,onChange:r,select:!0,variant:"outlined",fullWidth:!0,className:i.select,disabled:a,children:t.map((function(e){return function(e,t){var n=e.name;return Object(w.jsxs)(B.a,{value:n,children:[Object(w.jsx)(_.a,{className:t.listItemIcon,children:Object(w.jsx)("img",{src:J(n),alt:n,className:t.icon})}),Object(w.jsx)(q.a,{children:n})]},n)}(e,i)}))})}var K=n(861),Y=n(480),Z="#1975e6",$="rgba(25, 117, 230, 0.8)",ee="#4e4e54",te="#0ac2af",ne="rgba(10, 194, 175, 0.8)",re="rgba(51, 242, 223, 1)",ae="#83b9fc",ie="#000008",se="rgba(0,0,0,.25)",ce="#aa0818",ue=Object(K.a)(Object(Y.a)({palette:{type:"dark",background:{default:ie,paper:ie},divider:ee,text:{primary:"rgba(255,255,255,0.98)"},primary:{main:$,light:ae},secondary:{main:ne,light:re},error:{main:ce}},typography:{fontFamily:"'Sora', sans-serif",h1:{fontWeight:"200"},h2:{fontWeight:"200"},h4:{fontWeight:"500"}},overrides:{MuiCssBaseline:{"@global":{"*":{scrollbarWidth:"thin",scrollbarColor:"".concat(ee," ").concat(se)},"*::-webkit-scrollbar":{width:"8px",height:"8px",backgroundColor:se},"*::-webkit-scrollbar-thumb":{backgroundColor:ee,borderRadius:"4px"},"*::-webkit-scrollbar-corner":{backgroundColor:"transparent"}}},MuiAccordion:{root:{backgroundColor:se,"&:before":{display:"none"}},rounded:{"&:first-child":{borderTopLeftRadius:"16px",borderTopRightRadius:"16px"},"&:last-child":{borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px"}}},MuiAlert:{root:{borderRadius:"8px",border:"1px solid"}},MuiButton:{root:{borderRadius:"5px",textTransform:"none"}},MuiLink:{root:{color:ae}},MuiPaper:{rounded:{borderRadius:"16px"}},MuiStepper:{root:{backgroundColor:"transparent",padding:0}},MuiStep:{root:{backgroundColor:se,borderRadius:"16px",padding:16}},MuiStepConnector:{lineVertical:{borderLeftWidth:0}},MuiStepContent:{root:{borderLeftWidth:0}},MuiStepLabel:{label:{fontSize:16,fontWeight:"300","&.MuiStepLabel-active":{fontWeight:"300"},"&.MuiStepLabel-completed":{fontWeight:"300"}}},MuiTab:{root:{fontSize:18,fontWeight:"300",padding:12,textTransform:"none"}}}})),oe=n(452),de=n(64),pe=n(850),le=n(858),me="VM Exception while processing transaction: revert ",fe=function(e){var t,n,r,a;return null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&null!==(n=t.message)&&void 0!==n&&n.startsWith(me)?e.data.message.replace(me,""):null!==e&&void 0!==e&&null!==(r=e.response)&&void 0!==r&&null!==(a=r.data)&&void 0!==a&&a.error?e.response.data.error:null!==e&&void 0!==e&&e.message?e.message:"An unknown error occurred"},he=n(860),be=n(845),ye=n(846),ve=n(847),xe=n(468),Oe=n.n(xe),je=n(793),ge=Object(je.a)({topScrollPaper:{alignItems:"flex-start"},topPaperScrollBody:{verticalAlign:"top"},button:{float:"right","&:hover":{backgroundColor:"transparent"}}}),ke=function(e,t,n){return isNaN(e)?e:Math.min(Math.max(t,e),n)};function we(e){var t=e.disabled,n=e.slippage,r=e.deadline,a=e.onSlippageChange,i=e.onDeadlineChange,s=ge(),c=Object(O.useState)(!1),o=Object(u.a)(c,2),d=o[0],p=o[1],l=Object(w.jsxs)(he.a,{open:d,"aria-labelledby":"simple-dialog-title",onClose:function(){return p(!1)},maxWidth:"xs",scroll:"paper",children:[Object(w.jsx)(be.a,{id:"simple-dialog-title",children:"Transaction Settings"}),Object(w.jsxs)(ye.a,{children:[Object(w.jsx)(y.a,{variant:"outlined",label:"Slippage tolerance",value:n,fullWidth:!0,InputProps:{endAdornment:Object(w.jsx)(ve.a,{position:"end",children:"%"})},margin:"normal",type:"number",onChange:function(e){a(""===e.target.value?"":ke(parseFloat(e.target.value),0,100).toString())}}),Object(w.jsx)(y.a,{variant:"outlined",label:"Transaction deadline",value:r,fullWidth:!0,InputProps:{endAdornment:Object(w.jsx)(ve.a,{position:"end",children:"minutes"})},margin:"normal",type:"number",onChange:function(e){i(""===e.target.value?"":ke(parseFloat(e.target.value),1,100).toString())}})]})]});return Object(w.jsxs)("div",{children:[Object(w.jsx)(g.a,{className:s.button,onClick:function(){p(!0)},disabled:t,disableRipple:!0,endIcon:Object(w.jsx)(Oe.a,{})}),l]})}function Ae(e,t,n,r,a){return Te.apply(this,arguments)}function Te(){return(Te=Object(o.a)(p.a.mark((function e(t,n,r,a,i){var s,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=!1,c=0;case 2:if(!(c<i)){e.next=19;break}return e.prev=3,e.next=6,Object(x.j)(t,n,r);case 6:s=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:if(!s){e.next=14;break}return e.abrupt("break",19);case 14:return e.next=16,new Promise((function(e){return setTimeout(e,a)}));case 16:c++,e.next=2;break;case 19:return e.abrupt("return",s);case 20:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}n(770);function Ie(){return Object(w.jsx)("div",{id:"loaderContainer",children:Object(w.jsx)("div",{id:"circle",children:Object(w.jsx)("div",{id:"inner"})})})}var Se=n(852),Ee=n(853),Ce=n(848),Pe=Object(l.a)((function(e){return{root:{marginTop:e.spacing(2),textAlign:"center"},message:{marginTop:e.spacing(1)}}}));function Fe(e){var t=e.chainId,n=e.txBlockNumber,r=e.hasSignedVAA,a=e.isTargetSwapComplete,i=Pe(),s=N().provider,c=Object(O.useState)(0),d=Object(u.a)(c,2),l=d[0],f=d[1];Object(O.useEffect)((function(){if(!r&&n&&Object(x.n)(t)&&s){var e=!1;return Object(o.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=15;break}return t.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:return t.prev=3,t.next=6,s.getBlockNumber();case 6:n=t.sent,e||f(n),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.error(t.t0);case 13:t.next=0;break;case 15:case"end":return t.stop()}}),t,null,[[3,10]])})))(),function(){e=!0}}}),[r,t,s,n]);var h,b,y,v=void 0!==n&&n&&l?l-n:0,j=t===x.d?512:15;return v=Math.min(Math.max(v,0),j),r?a?(h=100,b=100,y="Success!"):(h=50,b=100,y="Waiting for relayer to complete swap..."):(h=v/j*50,b=50,y="Waiting for ".concat(v," / ").concat(j," confirmations on ").concat(Object(V.w)(t),"...")),Object(w.jsxs)("div",{className:i.root,children:[Object(w.jsx)(Ce.a,{variant:"buffer",value:h,valueBuffer:b}),Object(w.jsx)(m.a,{variant:"body2",className:i.message,children:y})]})}var Ne=n(849),Me=n.p+"static/media/Discord.3cc30da6.svg",Ue=n.p+"static/media/Docs.5306a132.svg",De=n.p+"static/media/Github.cf553f61.svg",Re=n.p+"static/media/Medium.a9e68aca.svg",Be=n.p+"static/media/Telegram.86d97a48.svg",_e=n.p+"static/media/Twitter.06e4f08c.svg",qe=n.p+"static/media/wormhole_logo.9f999ea4.svg",Ve=Object(l.a)((function(e){return{footer:{margin:e.spacing(2,0,2),textAlign:"center"},socialIcon:{"& img":{height:24,width:24}},builtWithContainer:{alignItems:"center",justifyContent:"center",opacity:.5,marginTop:e.spacing(1)},wormholeIcon:{height:48,width:192,filter:"contrast(0)",transition:"filter 0.5s","&:hover":{filter:"contrast(1)"},verticalAlign:"middle",marginRight:e.spacing(1)}}}));function ze(){var e=Ve();return Object(w.jsxs)("footer",{className:e.footer,children:[Object(w.jsxs)("div",{children:[Object(w.jsx)(Ne.a,{href:"https://docs.wormholenetwork.com/",target:"_blank",rel:"noopener noreferrer",className:e.socialIcon,children:Object(w.jsx)("img",{src:Ue,alt:"Docs"})}),Object(w.jsx)(Ne.a,{href:"https://discord.gg/wormholecrypto",target:"_blank",rel:"noopener noreferrer",className:e.socialIcon,children:Object(w.jsx)("img",{src:Me,alt:"Discord"})}),Object(w.jsx)(Ne.a,{href:"https://github.com/certusone/wormhole",target:"_blank",rel:"noopener noreferrer",className:e.socialIcon,children:Object(w.jsx)("img",{src:De,alt:"Github"})}),Object(w.jsx)(Ne.a,{href:"http://wormholecrypto.medium.com",target:"_blank",rel:"noopener noreferrer",className:e.socialIcon,children:Object(w.jsx)("img",{src:Re,alt:"Medium"})}),Object(w.jsx)(Ne.a,{href:"https://t.me/wormholecrypto",target:"_blank",rel:"noopener noreferrer",className:e.socialIcon,children:Object(w.jsx)("img",{src:Be,alt:"Telegram"})}),Object(w.jsx)(Ne.a,{href:"https://twitter.com/wormholecrypto",target:"_blank",rel:"noopener noreferrer",className:e.socialIcon,children:Object(w.jsx)("img",{src:_e,alt:"Twitter"})})]}),Object(w.jsx)("div",{children:Object(w.jsx)("a",{href:"https://wormholenetwork.com/",target:"_blank",rel:"noopener noreferrer",children:Object(w.jsx)("img",{src:qe,alt:"Wormhole",className:e.wormholeIcon})})}),Object(w.jsxs)("div",{className:e.builtWithContainer,children:[Object(w.jsx)(m.a,{variant:"body2",children:"Open Source"}),Object(w.jsx)(m.a,{variant:"body2",children:"Built with \u2764"})]})]})}var We=n(193),Le={name:"testnet",chainID:"bombay-12",lcd:"https://bombay-lcd.terra.dev"},He={0:Le},Qe=j.a.createContext({connect:function(){},disconnect:function(){},connected:!1,wallet:null}),Ge=function(e){var t=e.children,n=Object(We.c)(),r=Object(O.useState)(void 0),a=Object(u.a)(r,2)[1],i=Object(O.useState)(!1),s=Object(u.a)(i,2),c=s[0],o=s[1],d=Object(O.useCallback)((function(){n&&(n.connect(n.availableConnectTypes[1]),a(n),o(!0))}),[n]),p=Object(O.useCallback)((function(){o(!1),a(void 0)}),[]),l=Object(O.useMemo)((function(){return{connect:d,disconnect:p,connected:c,wallet:n}}),[d,p,c,n]);return Object(w.jsx)(Qe.Provider,{value:l,children:t})},Je=function(e){var t=e.children;return Object(w.jsx)(We.a,{defaultNetwork:Le,walletConnectChainIds:He,children:Object(w.jsx)(Ge,{children:t})})},Xe=function(){var e=Object(O.useContext)(Qe),t=e.connect,n=e.disconnect,r=e.connected,a=e.wallet,i=a&&a.wallets&&a.wallets.length>0&&a.wallets[0].terraAddress||"";return Object(w.jsx)(D,{connect:t,disconnect:n,connected:r,pk:i})},Ke=n(3),Ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return{isReady:e,statusMessage:t,forceNetworkSwitch:n,walletAddress:r}};var Ze=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t,r=Object(We.b)(),a=!!r,i=N(),s=i.provider,c=i.signerAddress,u=i.chainId,o=!!s&&!!c,d=Object(V.x)(e),p=u===d,l=Object(O.useCallback)((function(){if(s&&d){if(!Object(x.n)(e))return;try{s.send("wallet_switchEthereumChain",[{chainId:Object(Ke.hexStripZeros)(Object(Ke.hexlify)(d))}])}catch(t){}}}),[s,d,e]);return Object(O.useMemo)((function(){return e===x.f&&a&&null!==r&&void 0!==r&&r.walletAddress?Ye(!0,void 0,l,r.walletAddress):Object(x.n)(e)&&o&&c?p?Ye(!0,void 0,l,c):(s&&d&&n&&l(),Ye(!1,"Wallet is not connected to testnet. Expected Chain ID: ".concat(d),l,void 0)):Ye(!1,"Wallet not connected",l,void 0)}),[e,n,l,a,o,d,p,s,c,r])},$e=Object(l.a)((function(e){return{bg:{background:"linear-gradient(160deg, rgba(69,74,117,.1) 0%, rgba(138,146,178,.1) 33%, rgba(69,74,117,.1) 66%, rgba(98,104,143,.1) 100%), linear-gradient(45deg, rgba(153,69,255,.1) 0%, rgba(121,98,231,.1) 20%, rgba(0,209,140,.1) 100%)",display:"flex",flexDirection:"column",minHeight:"100vh"},centeredContainer:{textAlign:"center",width:"100%"},mainPaper:{padding:"2rem",backgroundColor:se},numberField:{flexGrow:1,"& > * > .MuiInputBase-input":{textAlign:"center",height:"100%",flexGrow:"1",fontSize:"3rem",fontFamily:"Roboto Mono, monospace",caretShape:"block","&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{"-webkit-appearance":"none","-moz-appearance":"none",margin:0},"&[type=number]":{"-webkit-appearance":"textfield","-moz-appearance":"textfield"}},"& > * > input::-webkit-inner-spin-button":{webkitAppearance:"none",margin:"0"}},gradientButton:{backgroundImage:"linear-gradient(45deg, ".concat(Z," 0%, ").concat(ie,"20 50%,  ").concat(Z,"30 62%, ").concat(ie,"50  120%)"),transition:"0.75s",backgroundSize:"200% auto",boxShadow:"0 0 20px #222","&:hover":{backgroundPosition:"right center"},width:"100%",height:"3rem",marginTop:"1rem"},disabled:{background:ee},spacer:{height:"1rem"},titleBar:{marginTop:"10rem","& > *":{margin:".5rem",alignSelf:"flex-end"}},tokenSelectWrapper:{display:"flex",alignItems:"center"},wormholeIcon:{height:60,filter:"contrast(0)",transition:"filter 0.5s","&:hover":{filter:"contrast(1)"},verticalAlign:"middle",margin:"1rem",display:"inline-block"},loaderHolder:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},successIcon:{color:te,fontSize:"200px"},swapPath:{display:"inline-flex",alignItems:"center"}}})),et=function(){var e=Object(o.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(r=Object(V.x)(n))){e.next=3;break}throw new Error("Unknown chainId");case 3:return e.next=5,t.send("wallet_switchEthereumChain",[{chainId:Object(de.hexStripZeros)(Object(de.hexlify)(r))}]);case 5:return e.next=7,t.getNetwork();case 7:if(e.sent.chainId===r){e.next=10;break}throw new Error("Could not switch network");case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tt=function(e){var t=e.chainId,n=e.prefix,r=Ze(t,!1).walletAddress;if(r){var a=r.startsWith("0x");return Object(w.jsxs)(m.a,{variant:"subtitle2",children:[n," ",null===r||void 0===r?void 0:r.substring(0,a?6:3),"...",null===r||void 0===r?void 0:r.substring(r.length-(a?4:3))]})}return null},nt=function(e){var t=e.source,n=e.target,r=e.disabled,a=e.showLoader,i=e.onClick,s=Ze(t.chainId,!r).isReady,c=Ze(n.chainId,!Object(x.n)(t.chainId)).isReady;return s?c||Object(x.n)(t.chainId)&&Object(x.n)(n.chainId)?Object(w.jsx)(T,{disabled:r,showLoader:a,onClick:i,children:"Swap"}):Object(x.n)(n.chainId)?Object(w.jsx)(R,{}):t.chainId===x.f?Object(w.jsx)(Xe,{}):null:Object(x.n)(t.chainId)?Object(w.jsx)(R,{}):t.chainId===x.f?Object(w.jsx)(Xe,{}):null};function rt(){var e=$e(),t=Object(O.useState)(V.m),n=Object(u.a)(t,2),r=n[0],a=n[1],s=Object(O.useState)(V.i),c=Object(u.a)(s,2),d=c[0],l=c[1],j=Object(O.useState)(""),g=Object(u.a)(j,2),k=g[0],A=g[1],I=Object(O.useState)(""),S=Object(u.a)(I,2),E=S[0],C=S[1],P=Object(O.useState)(""),F=Object(u.a)(P,2),M=F[0],U=F[1],D=Object(O.useState)("30"),R=Object(u.a)(D,2),B=R[0],_=R[1],q=Object(O.useState)("1"),z=Object(u.a)(q,2),W=z[0],L=z[1],H=Object(O.useState)(null),Q=Object(u.a)(H,2),G=Q[0],J=Q[1],K=Object(O.useState)(!1),Y=Object(u.a)(K,2),Z=Y[0],$=Y[1],ee=Object(O.useState)(!1),te=Object(u.a)(ee,2),ne=te[0],re=te[1],ae=Object(O.useState)(!1),ie=Object(u.a)(ae,2),se=ie[0],ce=ie[1],ue=N(),de=ue.provider,me=ue.signer,he=ue.signerAddress,be=ue.disconnect,ye=Object(i.b)().enqueueSnackbar,ve=Object(O.useState)(!1),xe=Object(u.a)(ve,2),Oe=xe[0],je=xe[1],ge=Object(O.useState)(!1),ke=Object(u.a)(ge,2),Te=ke[0],Ce=ke[1],Pe=Object(O.useState)(void 0),Ne=Object(u.a)(Pe,2),Me=Ne[0],Ue=Ne[1],De=Object(O.useState)(!1),Re=Object(u.a)(De,2),Be=Re[0],_e=Re[1],qe=Object(O.useState)(""),Ve=Object(u.a)(qe,2),We=Ve[0],Le=Ve[1],He=Object(O.useCallback)((function(){Object(o.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce(!1),re(!0),U(""),C(""),e.prev=4,!(parseFloat(k)>0)||isNaN(parseFloat(B))||isNaN(parseFloat(W))){e.next=23;break}return t=new oe.a,e.next=9,t.initialize(r.address,d.address,!0);case 9:return e.next=11,t.computeAndVerifySrcPoolAddress().catch((function(e){throw new Error("failed to verify source pool address")}));case 11:return e.next=13,t.computeAndVerifyDstPoolAddress().catch((function(e){throw new Error("failed to verify dest pool address")}));case 13:return t.setDeadlines((60*parseFloat(B)).toString()),t.setSlippage((parseFloat(W)/100).toString()),t.setRelayerFee(V.n),e.next=18,t.computeQuoteExactIn(k);case 18:n=e.sent,J(t),U(parseFloat(n.minAmountOut).toFixed(8)),C(parseFloat(n.ustAmountIn).toFixed(2)),ce(!0);case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(4),console.error(e.t0),ye(null,{content:Object(w.jsx)(le.a,{severity:"error",children:fe(e.t0)})});case 29:re(!1);case 30:case"end":return e.stop()}}),e,null,[[4,25]])})))()}),[r,d,k,B,W,ye]),Qe=Object(pe.a)(He,1e3);Object(O.useEffect)((function(){Qe()}),[r,d,k,B,W,Qe]);var Ge=Object(O.useCallback)((function(e){A(e.target.value)}),[]),Je=Object(O.useCallback)((function(e){L(e)}),[]),Xe=Object(O.useCallback)((function(e){_(e)}),[]),Ke=Object(O.useCallback)((function(e){var t=V.t.find((function(t){return t.name===e.target.value}));if(t){var n=Object(V.y)(t);n&&(a(t),n.find((function(e){return e.name===d.name}))||l(n[0]),A(""),U(""))}}),[d]),Ye=Object(O.useCallback)((function(e){var t=V.t.find((function(t){return t.name===e.target.value}));t&&(l(t),U(""))}),[]),Ze=Object(O.useCallback)((function(){$(!1),ce(!1),je(!1),_e(!1),Ce(!1),A(""),U(""),Ue(void 0),Le(""),be()}),[be]),rt=Object(O.useCallback)(Object(o.a)(p.a.mark((function e(){var t,n,a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(de&&me&&he&&G)){e.next=40;break}return e.prev=1,$(!0),je(!1),_e(!1),Ce(!1),Le(""),e.next=9,et(de,r.chainId);case 9:return console.log(he),e.next=12,G.evmApproveAndSwap(me,he);case 12:return t=e.sent,console.info("firstSwapTransactionHash:",t.transactionHash),je(!0),Ue(t.blockNumber),e.next=18,Object(x.l)(V.v,G.srcExecutionParams.wormhole.chainId,G.vaaSearchParams.emitterAddress,G.vaaSearchParams.sequence);case 18:return n=e.sent,a=n.vaaBytes,_e(!0),e.next=23,Ae(G.dstExecutionParams.wormhole.tokenBridgeAddress,G.quoter.getDstEvmProvider(),a,3e3,40);case 23:if(e.sent){e.next=32;break}return Le("Timed out waiting for relayer to complete swap. You'll need to complete it yourself."),e.next=28,et(de,d.chainId);case 28:return e.next=30,G.fetchVaaAndSwap(me);case 30:i=e.sent,console.info("secondSwapTransactionHash:",i.transactionHash);case 32:Ce(!0),e.next=40;break;case 35:e.prev=35,e.t0=e.catch(1),Ze(),console.error(e.t0),ye(null,{content:Object(w.jsx)(le.a,{severity:"error",children:fe(e.t0)})});case 40:case"end":return e.stop()}}),e,null,[[1,35]])}))),[de,me,he,G,ye,r,d,Ze]),at=de&&me&&se,it=Z||ne;return Object(w.jsx)("div",{className:e.bg,children:Object(w.jsxs)(f.a,{className:e.centeredContainer,maxWidth:"sm",children:[Object(w.jsx)("div",{className:e.titleBar}),Object(w.jsx)(m.a,{variant:"h4",children:"Wormhole NativeSwap Demo"}),Object(w.jsx)("div",{className:e.spacer}),Object(w.jsxs)(h.a,{className:e.mainPaper,children:[Object(w.jsxs)(b.a,{in:!Oe,children:[Object(w.jsx)(we,{disabled:it,slippage:W,deadline:B,onSlippageChange:Je,onDeadlineChange:Xe}),Object(w.jsx)(X,{tokens:V.t,value:r.name,onChange:Ke,disabled:it}),Object(w.jsx)(m.a,{variant:"subtitle1",children:"Send"}),Object(w.jsx)(y.a,{type:"number",value:k,disabled:it,InputProps:{disableUnderline:!0},className:e.numberField,onChange:Ge,placeholder:"0.0"}),parseFloat(k)>r.maxAmount?Object(w.jsx)(m.a,{variant:"subtitle2",color:"error",children:"The max input amount is ".concat(r.maxAmount," ").concat(r.name)}):null,Object(w.jsx)(tt,{chainId:r.chainId,prefix:"From:"}),Object(w.jsx)("div",{className:e.spacer}),Object(w.jsx)(X,{tokens:Object(V.y)(r),value:d.name,onChange:Ye,disabled:it}),Object(w.jsx)(m.a,{variant:"subtitle1",children:"Receive (estimated)"}),Object(w.jsx)(y.a,{type:"number",value:M,autoFocus:!0,InputProps:{disableUnderline:!0},className:e.numberField,inputProps:{readOnly:!0},placeholder:"0.0"}),Object(w.jsx)(tt,{chainId:Object(x.n)(r.chainId)&&Object(x.n)(d.chainId)?r.chainId:d.chainId,prefix:"To:"}),Object(w.jsx)("div",{className:e.spacer}),Object(w.jsx)(m.a,{variant:"subtitle2",children:"Slippage tolerance: ".concat(W,"%")}),Object(w.jsx)(m.a,{variant:"subtitle2",children:"Relayer fee: ".concat(V.n," UST")}),Object(w.jsx)(nt,{source:r,target:d,disabled:!at||Z||parseFloat(k)>r.maxAmount,showLoader:Z,onClick:rt})]}),Object(w.jsx)(b.a,{in:Oe&&!Te,children:Object(w.jsxs)("div",{className:e.loaderHolder,children:[Object(w.jsx)(Ie,{}),Object(w.jsx)("div",{className:e.spacer}),Object(w.jsx)(m.a,{variant:"h5",children:"Your ".concat(r.name," is being swapped to ").concat(d.name)})]})}),Object(w.jsx)(b.a,{in:Te,children:Object(w.jsxs)("div",{className:e.loaderHolder,children:[Object(w.jsx)(Se.a,{className:e.successIcon,fontSize:"inherit"}),Object(w.jsx)(m.a,{children:"Swap completed!"}),Object(w.jsx)(T,{onClick:Ze,children:"Swap more tokens!"})]})}),Object(w.jsx)("div",{className:e.spacer}),se&&Object(w.jsxs)(m.a,{variant:"subtitle1",className:e.swapPath,children:["".concat(k," ").concat(r.name),Object(w.jsx)(Ee.a,{fontSize:"inherit",style:{margin:"10px"}}),"".concat(E," UST "),Object(w.jsx)(Ee.a,{fontSize:"inherit",style:{margin:"10px"}}),"".concat(M," ").concat(d.name)]}),Oe&&!Te&&!We&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Fe,{chainId:r.chainId,txBlockNumber:Me,hasSignedVAA:Be,isTargetSwapComplete:Te}),Object(w.jsx)("div",{className:e.spacer})]}),We&&Object(w.jsx)(m.a,{variant:"subtitle1",children:We}),Object(w.jsx)(m.a,{variant:"subtitle2",color:"error",children:"WARNING: this is a testnet release only, prices may not reflect reality"})]}),Object(w.jsx)("div",{className:e.spacer}),Object(w.jsx)(ze,{}),Object(w.jsx)(v.a,{href:"https://goerli-faucet.slock.it/",target:"_blank",rel:"noopener noreferrer",style:{margin:"5px"},children:"Goerli Faucet"}),Object(w.jsx)(v.a,{href:"https://faucet.polygon.technology/",target:"_blank",rel:"noopener noreferrer",style:{margin:"5px"},children:"Mumbai Faucet"}),Object(w.jsx)(v.a,{href:"https://faucet.avax-test.network/",target:"_blank",rel:"noopener noreferrer",style:{margin:"5px"},children:"Fuji Faucet"}),Object(w.jsx)(v.a,{href:"https://testnet.binance.org/faucet-smart/",target:"_blank",rel:"noopener noreferrer",style:{margin:"5px"},children:"BSC Faucet"}),Object(w.jsx)(v.a,{href:"https://github.com/certusone/wormhole-nativeswap-example/",target:"_blank",rel:"noopener noreferrer",style:{margin:"5px"},children:"NativeSwap GitHub"})]})})}function at(){return Object(w.jsx)(rt,{})}var it=n(6),st=n(5),ct=n(14),ut=n(15),ot=function(e){Object(ct.a)(n,e);var t=Object(ut.a)(n);function n(e){var r;return Object(it.a)(this,n),(r=t.call(this,e)).state={hasError:!1},r}return Object(st.a)(n,[{key:"componentDidCatch",value:function(e,t){console.error(e,t)}},{key:"render",value:function(){return this.state.hasError?Object(w.jsx)(m.a,{variant:"h5",style:{textAlign:"center",marginTop:24},children:'"An unexpected error has occurred. Please refresh the page."'}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(j.a.Component);c.a.render(Object(w.jsx)(ot,{children:Object(w.jsx)(a.a,{theme:ue,children:Object(w.jsx)(r.a,{children:Object(w.jsx)(F,{children:Object(w.jsx)(Je,{children:Object(w.jsx)(i.a,{maxSnack:3,children:Object(w.jsx)(at,{})})})})})})}),document.getElementById("root"))}},[[790,1,2]]]);
//# sourceMappingURL=main.8fa530f6.chunk.js.map